$.fn.addMoreFilters=function(n){var t=$("#car-sale-type").val();if(t!="")return $.extend({},n,{sold:t})};$.fn.gvFooterCall=function(n,t){var i=0,r=$(t).map(function(n,t){return i+=t.lastCost,t.lastCost});$(n).find("th").eq(1).html('<span class="money">'+i+"<\/span>");$(".money").autoNumeric()};var gridId="tblList",sUrl="items",modalDialog="myModal",deleteModalDialog="myDelModal",gridColumns=[{mDataProp:"itemsPk"},{orderable:!1,render:function(n,t,i){return'<a href="/Photos/Index/'+i.itemId+'" title="'+lang.Photos+'">                                    <img class="thumb" height="35px" width="35px" src="/public/'+(i.photos.length>0?i.photos[0].url:"")+'" /><\/a>'}},{render:function(n,t,i){return(i.make!=null?i.make.makeName:"")+" "+(i.model?i.model.modelName:"")+" "+i.yearId}},{mDataProp:"vin"},{mDataProp:"lotNo"},{mDataProp:"modelId",render:function(n,t,i){return'<span class="money">'+i.lastCost+"<\/span>"}},{mDataProp:"more",sClass:"noprint",orderable:!1,render:function(n,t,i){return'<div class="dropdown">                        <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">                            '+lang.Options+' <span class="caret"><\/span>                        <\/button>                        <ul class="dropdown-menu pull-right" aria-labelledby="dropdownMenu1">                            <li><a href="photos/index/'+i.itemId+'"><span class="glyphicon glyphicon-picture text-info"><\/span> '+lang.Photos+'<\/a><\/li>                            <li><a href="/Items/Car/'+i.itemId+'"><span class="glyphicon glyphicon-list-alt text-info"><\/span> المبيعات<\/a><\/li>                            <li role="separator" class="divider"><\/li>                            <li><a href="items/edit/'+i.itemId+'"><span class="glyphicon glyphicon-edit text-info"><\/span> '+lang.Edit+'<\/a><\/li>                            <li><a href="items/delete/'+i.itemId+'"><span class="glyphicon glyphicon-trash text-danger"><\/span> '+lang.Delete+'<\/a><\/li>                <li><a class="btnSold" href="javascript:void(0);"><span class="glyphicon glyphicon-ok-sign text-success"><\/span> '+lang.Sale+'<\/a><\/li>                <li role="separator" class="divider"><\/li>                            <li><a href="ItemParts/Index/'+i.itemId+'"><span class="glyphicon glyphicon-wrench text-info"><\/span> '+lang.CarParts+" الافتراضية<\/a><\/li>                        <\/ul><\/div>"}}];defaultGridManager.Init();$(".btnTopSearch").click(function(n){n.preventDefault();defaultGridManager.Refresh()});$("#"+gridId+" tbody").delegate("tr a.btnSold","click",function(n){var r;n.preventDefault();var u=$(this),i=u.closest("tr"),t,f=$("#"+gridId).DataTable();i!==null&&(t=f.row(i).data(),r="#"+t.itemId+" - "+t.make.makeName+" "+t.model.modelName+" "+t.yearId,$("strong.car").text(r),$("#sold").prop("checked",t.sold).val(t.itemId),$("#soldModal").modal("show"))});$("button.btnSaveSold").click(function(n){n.preventDefault();var t=$("#sold"),i={itemId:t.val()||0,sold:t.is(":checked")?!0:!1},r=function(n){n.saved===!0?(commonManger.showMessage(lang.Success,lang.SuccessMessage,"success"),defaultGridManager.Refresh(),$(".modal").modal("hide")):commonManger.showMessage(lang.Error,lang.SystemError+n.error,"error")};commonManger.doWork("#form","/Items/EditSale",i,r)});